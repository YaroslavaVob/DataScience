## <center><font color = 'springblue'>**<center><font color='red'> Модель для проверки достоверности рейтинга отелей </font></center>**</font></center>

**Данный проект представляет собой анализ и преобразование признаков отелей на booking.com для создания модели ML, которая будет предсказывать ожидаемый рейтинг отеля.**

### <center><font color = 'springblue'>**Цель проекта**</font></center>
**Создать модель ML с ошибкой MAPE (mean absolute percentage error) средней абсолютной процентной ошибкой < 13,5%**

#### **Датасет для проекта состоял из следующих 17 признаков:**
- *hotel_address*: адрес отеля;
- *additional_number_of_scoring*: некоторые гости отеля ставили только оценки без написания отзыва. Данное число указывает на количество таких оценок(без отзыва); 
- *review_date*: дата, когда рецензент(гость отеля) оставил свой отзыв о проживании;
- *average_score*: средняя оценка отеля, рассчитанная на основе комментариев (отзывов) за последний год;
- *hotel_name*: название отеля;
- *reviewer_nationality*: из какой страны рецензент(гость отеля);
- *negative_review*: негативный отзыв гостя об отеле;
- *review_total_negative_word_counts*: количество слов в негативном отзыве;
- *total_number_of_reviews*: общее количество отзывов об отеле;
- *positive_review*: положительный отзыв гостя об отеле;
- *review_total_positive_word_counts*: количество слов в положительном отзыве;
- *total_number_of_reviews_reviewer_has_given*: количество отзывов, данных рецензентом в прошлом;
- *reviewer_score*: оценка гостя, данная отелю на основе его/ее опыта;
- *tags*: теги, которыми гость отметил отель;
- *days_since_review*: количество дней с момента написания отзыва, отсчет с последней даты, которая представлена в датасете;
- *lat*: географическая широта отеля;
- *lng*: географическая долгота отеля.

Ключевой признак, с которым мы сравнивали прогноз нашей модели, - оценка гостя **reviewer_score**.


### <center><font color = 'springblue'>**Этапы проекта**</font></center>

**1. Описательный анализ данных:**
  - мы изучили размер и содержание нашего датасета об отелях, основные метрики признаков, пропуски.

**2. Очистка данных:**
  - пропусков оказалось минимальное количество в двух признаках: широта и долгота отеля. Заполнили их с помощью библиотеки geopy;
  - удалили небольшое количество дубликатов.

**3. Разведывательный анализ данных:**
  - один из самых важных этапов является создание новых признаков или преобразование имеющихся;
  - нам удалось преобразовать несколько признаков в категориальные, чтобы мы могли их применить в нашей моделе:
      * извлекли из адреса отеля страну и создали новый признак,
      * на основе нового признака преобразовали национальность в признак резиденства,
      * извлекли из даты отзыва информацию о месяце и создали признак сезона посещения отеля,
      * преобразовали признаки негативный отзыв и положительный отзыв в категориальный,
      * извлекли информацию из названия отеля о типе отеля и раздели отели по категориям.

**4. Кодирование:**
  - вновь созданные признаки (страна отеля, сезон посещения, тип отеля) закодировали по методу One-Hot-Encoding, данные признаки относятся к категориальным номинальным.
  - закодировали признаки резиденства, негативного и положительного отзывов по BinaryEncoding

**5. Нормализация:**
  - визуализация признаков показала, что все признаки не имеют нормального распределения, а в некоторых наблюдаем огромное количество выбросов;
  - для точности и качества нашей модели мы нормализовали признаки.

**6. Отбор признаков:**
  - перед создание модели мы проверили признаки на мультиколлинеарность и провели статистические тесты для определения значимости признаков для модели.

**7. Создание модели:**
  - создали регрессионную модель,
  - обучили модель на 75% всех данных,
  - протестировали на 25%-й части,
  - сравнили предсказанные и реальные данные по метрике MAPE

  ### <center><font color = 'springblue'>**Итог**</font></center>

1. Мы достигли поставленной цели: результат MAPE нашей модели 13.5%.
2. Отметим, что модель более точна при исключении признаков с мультиколлинеарностью и низкой значимостью.


#### Какие библиотеки использовались для проекта:
<font color = 'springblue'>pandas</font>\
<font color = 'springblue'>sklearn</font>\
<font color = 'springblue'>geopy</font>\
<font color = 'springblue'>matplotlib</font>\
<font color = 'springblue'>seaborn</font>
<font color = 'springblue'>re</font>




**Проект создан на базе языка Python в Jupyter Notebook.**

Автор: Ярослава Вобшаркян\
(студент школы SkillFactory по курсу Data Science)

